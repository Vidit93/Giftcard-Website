<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Category Details</title>
    <!-- <link rel="stylesheet" href="styles.css"> -->
</head>
<body>
    <div class="container">
        <div class="top-img-view">
            <img class="top-img" src="/images/Banner.jpeg" alt="Search Icon" />
          </div>
          <div class="heading-view">
            <div id="heading-text"></div>
          </div>
          <div class="detail-view">
            <ul>
                <li>GiftCard Value</li>
                <li>CashBack</li>
                <li>Effectie Price</li>
                <li>Validity</li>
            </ul>
          </div>
        <div id="category-details"></div>
    </div>

    <script>
       document.addEventListener('DOMContentLoaded', function () {
    const urlParams = new URLSearchParams(window.location.search);
    const categoryName = urlParams.get('category');

    if (categoryName) {
        fetch('data.json')
            .then(response => response.json())
            .then(data => {
                const category = data.categories.find(cat => cat.name === categoryName);
                if (category) {
                    const headingText = document.getElementById('heading-text');
                    const heading = document.createElement('h1');
                    heading.textContent = category.name;
                    headingText.appendChild(heading);

                    const categoryDetailsDiv = document.getElementById('category-details');

                    category.subcategories.forEach(subcategory => {
                        const subcategoryList = document.createElement('ul');

                        const listItem1 = document.createElement('li');
                        listItem1.textContent = `${subcategory.value}`;
                        subcategoryList.appendChild(listItem1);

                        const listItem2 = document.createElement('li');
                        listItem2.textContent = `${subcategory.cashback}`;
                        subcategoryList.appendChild(listItem2);

                        const listItem3 = document.createElement('li');
                        listItem3.textContent = `${subcategory.Eprice}`;
                        subcategoryList.appendChild(listItem3);

                        const listItem4 = document.createElement('li');
                        listItem4.textContent = `${subcategory.validity}`;
                        subcategoryList.appendChild(listItem4);

                        categoryDetailsDiv.appendChild(subcategoryList);
                    });
                } else {
                    console.error('Category not found');
                }
            })
            .catch(error => console.error('Error fetching category data:', error));
    } else {
        console.error('No category specified in URL');
    }
});


    </script>
</body>
<style>
    .top-img{
        width: 100%;
    }
    .heading-view{
        justify-content: center;
        display: flex;
    }
    #heading-text{
        font-size: 25px;
    }
    .detail-view{
        width: 87%;
        margin: 20px auto 0 auto ;
        background-color: antiquewhite;
        height: 60px;
    }
    .detail-view ul{
        display: flex;
        flex-direction: row;
        gap: 235px;
        /* margin-top: 20px; */
        font-size: 25px;
        list-style-type: none;
    }
    #category-details{
        width: 87%;
        margin: 20px auto 0 auto ;
    }
    #category-details ul{
        background-color: aqua;
        display: flex;
        flex-direction: row;
        gap: 315px;
        font-size: 20px;
        list-style-type: none;
        height: 70px;
        align-items: center;
    }
    .category-link {
    display: block;
    margin-bottom: 10px;
    text-decoration: none;
    color: #333;
}

.category-link:hover {
    text-decoration: underline;
}

</style>
</html>
